[global]
error_log = /var/log/php-fpm/error.log

[www]
user = www-data
group = www-data
listen = 9000
; Allow remote FastCGI clients (other containers). Default (127.0.0.1) blocks nginx/varnish.
listen.allowed_clients = 127.0.0.1,172.19.0.3,172.19.0.4
; ============================================
; Process Manager Optimization
; ============================================
; Use 'dynamic' for a balance of performance and memory usage.
; Use 'static' for maximum performance (but higher memory usage).
pm = dynamic

; The number of child processes to be created when pm is set to 'static' and the
; maximum number of child processes when pm is set to 'dynamic' or 'ondemand'.
pm.max_children = 50

; The number of child processes created on startup.
pm.start_servers = 10

; The desired minimum number of idle server processes.
pm.min_spare_servers = 5

; The desired maximum number of idle server processes.
pm.max_spare_servers = 15

; The number of requests each child process should execute before respawning.
; This can be useful to work around memory leaks in 3rd party libraries.
pm.max_requests = 1000

; ============================================
; Health Check & Status
; ============================================
ping.path = /ping
ping.response = pong

; ============================================
; Logging
; ============================================
access.log = /var/log/php-fpm/access.log
catch_workers_output = yes
decorate_workers_output = no
